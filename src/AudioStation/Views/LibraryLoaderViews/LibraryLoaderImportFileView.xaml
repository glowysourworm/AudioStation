<UserControl x:Class="AudioStation.Views.LibraryLoaderViews.LibraryLoaderImportFileView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:xceed="http://schemas.xceed.com/wpf/xaml/toolkit"
             xmlns:fa5="http://schemas.fontawesome.com/icons/"
             xmlns:propertyGrid="clr-namespace:AudioStation.Controls.PropertyGrid"
             xmlns:coreModel="clr-namespace:AudioStation.Core.Model;assembly=AudioStation.Core"
             xmlns:simpleUI="clr-namespace:SimpleWpf.UI.Controls;assembly=SimpleWpf.UI">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- Input Files -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <CheckBox Content="Select All" IsChecked="{Binding SourceFolderSelectAll, Mode=TwoWay}" Grid.Column="0" VerticalAlignment="Center" Margin="5 0" />
            <xceed:WatermarkTextBox Grid.Column="1" Margin="0 5" Text="{Binding SourceFolderSearch, UpdateSourceTrigger=PropertyChanged, Delay=300}" Watermark="Search Input Files..." HorizontalAlignment="Stretch" />
        </Grid>

        <ListBox Grid.Row="1" ItemsSource="{Binding SourceFiles}"
                 SelectionMode="Extended"
                 AlternationCount="2"
                 ItemContainerStyle="{StaticResource HoverSelectItemContainerStyleWithAlternation_LibraryLoader}"
                 HorizontalContentAlignment="Stretch"
                 VirtualizingPanel.IsVirtualizing="True"
                 VirtualizingPanel.VirtualizationMode="Recycling"
                 VirtualizingPanel.CacheLength="3">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <CheckBox IsChecked="{Binding IsSelected}" Margin="3" VerticalAlignment="Center" HorizontalAlignment="Right" />
                        <TextBlock Text="{Binding FileFullPath}" Margin="3" VerticalAlignment="Center" Grid.Column="1" />
                    </Grid>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>

        <!-- Output Files -->
        <Grid Grid.Column="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <CheckBox Content="Select All" Grid.Column="0" VerticalAlignment="Center" Margin="5 0" />
            <xceed:WatermarkTextBox Grid.Column="1" Margin="0 5" Text="{Binding DestinationFolderSearch, UpdateSourceTrigger=PropertyChanged, Delay=300}" Watermark="Search Output Files..." HorizontalAlignment="Stretch" />
        </Grid>

        <ListBox Grid.Row="1" Grid.Column="2" ItemsSource="{Binding DestinationFiles}"
                     AlternationCount="2"
                     ItemContainerStyle="{StaticResource HoverSelectItemContainerStyleWithAlternation_LibraryLoader}"      
                     HorizontalContentAlignment="Stretch"
                     VirtualizingPanel.IsVirtualizing="True"
                     VirtualizingPanel.VirtualizationMode="Recycling"
                     VirtualizingPanel.CacheLength="3">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <CheckBox IsChecked="{Binding IsSelected}" Margin="3" VerticalAlignment="Center" HorizontalAlignment="Right" />
                        <TextBlock Text="{Binding ImportFileName}" Margin="3" VerticalAlignment="Center" Grid.Column="1" />
                    </Grid>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </Grid>
</UserControl>
