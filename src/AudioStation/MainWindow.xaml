<Window x:Class="AudioStation.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:views="clr-namespace:AudioStation.Views"
        xmlns:controls="clr-namespace:AudioStation.Controls"
        xmlns:region="clr-namespace:SimpleWpf.IocFramework.RegionManagement;assembly=SimpleWpf.IocFramework"        
        Style="{StaticResource MainWindowStyle}"
        Title="Audio Station" Height="700" Width="1200">
    <Grid>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>
        
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="28" />
        </Grid.RowDefinitions>
        
        <!-- Main View (Manager) / (Playlist) -->
        <region:IocRegion region:IocRegionManager.RegionName="MainRegion"
                          Grid.ColumnSpan="2" />
        
        <!-- Audio Control Panel: Equalizer, Volume -->
        <Border Grid.Column="1" HorizontalAlignment="Right" VerticalAlignment="Bottom">
            <region:IocRegion region:IocRegionManager.DefaultViewType="{x:Type views:AudioControlPanelView}">
            </region:IocRegion>
        </Border>

        <!-- Playlist Controller (Panel) (Bound to MainViewModel -> (Playlist)) -->
        <Border x:Name="PlaylistControllerPanel" 
                    Grid.Row="1"
                    Grid.ColumnSpan="2"
                    Visibility="{Binding Playlist, Converter={StaticResource NonNullVisibilityConverter}}"
                    Background="Transparent" 
                    BorderBrush="LightGray" 
                    BorderThickness="1">
            <Grid>
                <region:IocRegion region:IocRegionManager.DefaultViewType="{x:Type views:PlayerControlView}"
                                  DataContext="{Binding Playlist, Mode=TwoWay, NotifyOnSourceUpdated=True}">
                </region:IocRegion>
            </Grid>
        </Border>

        <!-- Status Bar (Footer) -->
        <Border x:Name="StatusBorder" Grid.Row="2" Grid.ColumnSpan="2" Background="#EEEEEE">
            <TextBlock x:Name="StatusMessageTB" 
					   Text="{Binding StatusMessage}" 
					   FontSize="14" Margin="5" 
					   Foreground="#555555" VerticalAlignment="Center" />
        </Border>
        
    </Grid>
</Window>
